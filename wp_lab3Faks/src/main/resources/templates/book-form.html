<html>
<form method="post" th:action="${book == null} ? @{/books/add} : @{/books/edit/{id} (id = ${book.id})}">
    <label>Title:</label>
    <input type="text" name="title" th:value="${book?.title}"/>
    <br/>

    <label>Genre:</label>
    <input type="text" name="genre" th:value="${book?.genre}"/>
    <br/>

    <label>Average rating:</label>
    <input type="number" name="averageRating" th:value="${book?.averageRating}"/>
    <br/>

    <label>Select author:</label>
    <select name="authorId">
        <option th:each="author : ${authors}" th:value="${author.id}"
                th:text="|${author.name}
                ${author.surname}|"
                th:selected="${author.id} == ${book?.author?.id}"></option>
    </select>
    <br/>

    <input type="submit" value="Submit"/>
</form>
</html>